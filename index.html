<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<title>国潮黄历·1:1还原版</title>
<style>
:root{
    --border-c:#e60012;  /* 红框；想黄框改成 #f4e556 */
    --primary:#e60012;
    --bg:#ffffff;
    --text:#222;
    --gray:#666;
    --radius:12px;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,"PingFang SC",sans-serif;background:var(--bg);color:var(--text)}
/* ===== 顶部大图 ===== */
.hero{
    height:200px;background-size:cover;background-position:center;position:relative;
    border-bottom:4px solid var(--border-c);
}
.hero::after{content:'';position:absolute;inset:0;background:rgba(0,0,0,.25)}
.hero-txt{position:absolute;bottom:20px;left:20px;color:#fff;font-size:28px;font-weight:700;letter-spacing:2px;z-index:2}

.container{max-width:420px;margin:0 auto;background:var(--bg)}
/* ===== 导航 ===== */
.nav{
    display:flex;justify-content:space-between;align-items:center;
    padding:10px 15px;border-left:4px solid var(--border-c);border-right:4px solid var(--border-c);
}
.nav select{border:1px solid var(--border-c);padding:4px 8px;border-radius:4px}
.nav span{cursor:pointer;font-size:20px;font-weight:bold;color:var(--primary)}
/* ===== 主卡片 ===== */
.card{
    margin:0 15px 20px;
    border:4px solid var(--border-c);border-radius:var(--radius);
    background:var(--bg);padding:20px;
}
/* === 参考图排版：上部分栏 === */
.top-row{display:flex;justify-content:space-between;align-items:flex-start}
.left-col{flex:1}
.right-col{text-align:right}
.big-date{font-size:48px;font-weight:bold;color:var(--primary);line-height:1}
.week-astro{font-size:16px;color:var(--gray);margin-top:4px}
/* === 中部：农历/生肖/干支 === */
.mid-info{margin:15px 0;font-size:16px;line-height:1.8}
/* === 右侧：宜忌 === */
.yiji-wrap{display:flex;gap:12px;margin:15px 0}
.yi,.ji{flex:1;padding:10px;border:2px solid;border-radius:8px;font-size:14px;line-height:1.6}
.yi{border-color:#27ae60;color:#27ae60}.ji{border-color:var(--primary);color:var(--primary)}
.yi .t,.ji .t{font-weight:600;margin-bottom:6px}
/* === 底部：四宫格 === */
.bot-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.bot-grid .itm{border:1px solid var(--border-c);border-radius:6px;padding:10px;text-align:center}
.bot-grid .lab{font-size:12px;color:var(--gray)}.bot-grid .val{font-size:15px;margin-top:4px}

.loading{text-align:center;padding:40px;display:none}
</style>
</head>
<body>
<div class="hero" id="hero">
    <div class="hero-txt" id="heroTxt">黄历</div>
</div>
<div class="container">
  <div class="nav">
    <select id="yearSel"></select>
    <select id="monthSel"></select>
    <span id="prev">‹</span>
    <span id="next">›</span>
  </div>
  <div id="loading" class="loading">加载中...</div>

  <!-- 主卡片：1:1还原图排版 -->
  <div id="card" class="card" style="display:none">
      <!-- ① 上部分栏：左公历+右星期/星座 -->
      <div class="top-row">
          <div class="left-col">
              <div class="big-date" id="solar">--</div>
              <div class="mid-info" id="lunar">--</div>
          </div>
          <div class="right-col">
              <div class="week-astro" id="week">--</div>
              <div class="week-astro" id="astro">--</div>
          </div>
      </div>

      <!-- ② 干支/生肖/岁次 -->
      <div class="mid-info" id="ganzhi">--</div>

      <!-- ③ 宜忌 -->
      <div class="yiji-wrap">
          <div class="yi"><div class="t">宜</div><div id="yi">--</div></div>
          <div class="ji"><div class="t">忌</div><div id="ji">--</div></div>
      </div>

      <!-- ④ 底部四宫格：福神/喜神/财神/冲煞 -->
      <div class="bot-grid">
          <div class="itm"><div class="lab">喜神方位</div><div class="val" id="xi">--</div></div>
          <div class="itm"><div class="lab">福神方位</div><div class="val" id="fu">--</div></div>
          <div class="itm"><div class="lab">财神方位</div><div class="val" id="cai">--</div></div>
          <div class="itm"><div class="lab">冲煞</div><div class="val" id="chong">--</div></div>
      </div>
  </div>
</div>

<script>
/* 0. 配置 */
const botId = 'YOUR_BOT_ID';   // ← 唯一要改的
const today = new Date();
let current = new Date(today);

/* 1. 年/月下拉 */
const ySel = document.getElementById('yearSel'),
      mSel = document.getElementById('monthSel');
for(let y = today.getFullYear()-10; y <= today.getFullYear()+10; y++){
    ySel.appendChild(new Option(y,y));
}
for(let m = 1; m <= 12; m++){
    mSel.appendChild(new Option(m+'月',m));
}
ySel.value = today.getFullYear();
mSel.value = today.getMonth()+1;

/* 2. 顶部大图 - 节气/节日自动换图 + 文字 */
const festImg = {
    'spring-equinox':{img:'https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=900',txt:'春分'},
    'summer-solstice':{img:'https://images.unsplash.com/photo-1508610048659-a06b669e3321?w=900',txt:'夏至'},
    'autumn-equinox':{img:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=900',txt:'秋分'},
    'winter-solstice':{img:'https://images.unsplash.com/photo-1517299321609-52687d1bc55a?w=900',txt:'冬至'},
    'spring-festival':{img:'https://images.unsplash.com/photo-1612872087720-bb876e2e67d1?w=900',txt:'春节'},
    'lantern-festival':{img:'https://images.unsplash.com/photo-1566127444979-b3d2b654e3d7?w=900',txt:'元宵'},
    'qingming-festival':{img:'https://images.unsplash.com/photo-1508009603885-50cf7c579365?w=900